# A0121657H
###### \java\seedu\oneline\logic\DeleteCommandTest.java
``` java
    @Test
    public void deleteCommand_invalidTagInput_showsErrorMessage() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedTB = helper.generateTaskBook(2);
        List<? extends ReadOnlyTask> expectedList = expectedTB.getTaskList();

        // prepare task book state
        helper.addToModel(model, 2);

        assertCommandBehavior("del #fruit",
                String.format(Tag.MESSAGE_INVALID_TAG, "#fruit"),
                expectedTB,
                expectedList); 
    }
    
    @Test
    public void deleteCommand_validTagInput_removesCorrectTag() throws Exception {
        Tag fruitTag = Tag.getTag("fruit");
        Tag defaultTag = Tag.getDefault();
        
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple").updateTag(fruitTag);
        Task p2 = helper.generateTaskWithName("boil water").updateTag(defaultTag);
        Task p3 = helper.generateTaskWithName("poke pineapple").updateTag(fruitTag);
        Task p4 = helper.generateTaskWithName("buy pen").updateTag(defaultTag);
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        
        Task p5 = helper.generateTaskWithName("eat apple").updateTag(defaultTag);
        Task p6 = helper.generateTaskWithName("poke pineapple").updateTag(defaultTag);
        List<Task> expectedList = helper.generateTaskList(p2, p4, p5, p6);
        helper.addToModel(model, originalTasks);
        expectedAB.removeTask(p1);
        expectedAB.addTask(p5);
        expectedAB.removeTask(p3);
        expectedAB.addTask(p6);
        
        assertCommandBehavior("del #fruit",
                String.format(DeleteCommand.MESSAGE_DELETE_CAT_SUCCESS, "#fruit"),
                expectedAB,
                expectedList);
    }
    
```
###### \java\seedu\oneline\logic\DoneCommandTest.java
``` java

package seedu.oneline.logic;

import java.util.Collections;
import java.util.List;

import org.junit.Test;

import seedu.oneline.commons.core.Messages;
import seedu.oneline.logic.commands.DoneCommand;
import seedu.oneline.model.TaskBook;
import seedu.oneline.model.task.Task;

public class DoneCommandTest extends LogicTestManager {
    
    //---------------- Tests for doneCommand —------------------------------------
    /*
     * Invalid equivalence partitions for index: null, signed integer, non-numeric characters
     * Invalid equivalence partitions for index: index larger than no. of tasks in taskBook
     * The two test cases below test invalid input above one by one.
     */
    
    @Test
    public void done_invalidArgsFormat_errorMessageShown() throws Exception {
        String expectedMessage = Messages.getInvalidCommandFormatMessage(DoneCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("done", expectedMessage);
    }
    
    @Test
    public void done_indexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("done");
    }
    
    /**
     * Checks that the task book is able to sort through the task list
     * and mark the appropriate task as done. The resulting task list 
     * shown should only contain tasks that are not done.
     * @throws Exception
     */
    @Test
    public void done_validIndex_successMessageShown() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water");
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen");

        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks); 
        List<Task> newTasks = helper.generateTaskList(p3, p1, p4.markDone(), p2);
        Collections.sort(newTasks); 
        TaskBook expectedAB = helper.generateTaskBook(newTasks);
        List<Task> expectedList = helper.generateTaskList(p2, p1, p3);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllNotDone();

        assertCommandBehavior("done 2",
                String.format(DoneCommand.MESSAGE_DONE_TASK_SUCCESS, p4),
                expectedAB,
                expectedList);
    }
    
}
```
###### \java\seedu\oneline\logic\ListCommandTest.java
``` java

package seedu.oneline.logic;

import static org.junit.Assert.assertTrue;

import java.util.Collections;
import java.util.List;

import org.junit.Test;

import seedu.oneline.commons.exceptions.IllegalCmdArgsException;
import seedu.oneline.logic.LogicTestManager.TestDataHelper;
import seedu.oneline.logic.commands.CommandResult;
import seedu.oneline.logic.commands.ListCommand;
import seedu.oneline.logic.commands.ListTagCommand;
import seedu.oneline.logic.commands.LocationCommand;
import seedu.oneline.model.TaskBook;
import seedu.oneline.model.tag.Tag;
import seedu.oneline.model.task.ReadOnlyTask;
import seedu.oneline.model.task.Task;

public class ListCommandTest extends LogicTestManager {
    
    @Test
    public void listCommand_invalidInput_showsErrorMessage() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedTB = helper.generateTaskBook(2);
        List<? extends ReadOnlyTask> expectedList = expectedTB.getTaskList();

        // prepare task book state
        helper.addToModel(model, 2);

        assertCommandBehavior("list abc",
                ListCommand.MESSAGE_INVALID,
                expectedTB,
                expectedList);      
    }
    
    @Test
    public void listCommand_list_showsAllTasks() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedTB = helper.generateTaskBook(2);
        List<? extends ReadOnlyTask> expectedList = expectedTB.getTaskList();

        // prepare task book state
        helper.addToModel(model, 2);

        assertCommandBehavior("list",
                ListCommand.MESSAGE_SUCCESS,
                expectedTB,
                expectedList);
    }
   
    @Test
    public void list_undoneInput_showsAllUndoneTasks() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water").markDone();
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen").markDone();
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p1, p3);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllNotDone();

        assertCommandBehavior("list undone",
                ListCommand.MESSAGE_SUCCESS,
                expectedAB,
                expectedList);
    }
    
    @Test
    public void list_doneInput_showsAllDoneTasks() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water").markDone();
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen").markDone();
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p2, p4);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllDone();

        assertCommandBehavior("list done",
                ListCommand.MESSAGE_SUCCESS,
                expectedAB,
                expectedList);
    }
    
    @Test
    public void list_invalidTagInput_showsErrorMessage() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        TaskBook expectedTB = helper.generateTaskBook(2);
        List<? extends ReadOnlyTask> expectedList = expectedTB.getTaskList();

        // prepare task book state
        helper.addToModel(model, 2);

        assertCommandBehavior("list #fruit",
                String.format(Tag.MESSAGE_INVALID_TAG, "fruit"),
                expectedTB,
                expectedList); 
    }
    
    @Test
    public void list_validTagInput_showsAllTasksWithTag() throws Exception {
        Tag fruitTag= Tag.getTag("fruit");
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple").updateTag(fruitTag);
        Task p2 = helper.generateTaskWithName("boil water");
        Task p3 = helper.generateTaskWithName("poke pineapple").updateTag(fruitTag);
        Task p4 = helper.generateTaskWithName("buy pen");
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p1, p3);
        helper.addToModel(model, originalTasks);

        assertCommandBehavior("list #fruit",
                String.format(ListTagCommand.MESSAGE_SUCCESS, "fruit"),
                expectedAB,
                expectedList);
    }
```
###### \java\seedu\oneline\logic\LocationCommandTest.java
``` java
    
    @Test
    public void locationCommand_setValidHomePath_success() {
        String homeDir = System.getProperty("user.home");
        LocationCommand cmd = new LocationCommand(homeDir);
        CommandResult res = cmd.execute();
        String feedback = res.feedbackToUser;
        assertTrue(feedback.equals(String.format(LocationCommand.MESSAGE_SET_STORAGE_SUCCESS, homeDir)));        
    }

```
###### \java\seedu\oneline\logic\UndoneCommandTest.java
``` java

package seedu.oneline.logic;

import java.util.Collections;
import java.util.List;

import org.junit.Test;

import seedu.oneline.commons.core.Messages;
import seedu.oneline.logic.commands.UndoneCommand;
import seedu.oneline.model.TaskBook;
import seedu.oneline.model.task.Task;

public class UndoneCommandTest extends LogicTestManager {
    
    //---------------- Tests for undoneCommand ------------------------------------
    /*
     * Invalid equivalence partitions for index: null, signed integer, non-numeric characters
     * Invalid equivalence partitions for index: index larger than no. of tasks in taskBook
     * The two test cases below test invalid input above one by one.
     */
    
    @Test
    public void undone_invalidArgsFormat_errorMessageShown() throws Exception {
        String expectedMessage = Messages.getInvalidCommandFormatMessage(UndoneCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("undone", expectedMessage);
    }
    
    @Test
    public void undone_indexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("undone");
    }
    
    /**
     * Checks that the task book is able to sort through the task list
     * and mark the appropriate task as not done. The resulting task list 
     * shown should only contain tasks that are not done.
     * @throws Exception
     */
    @Test
    public void undone_validIndex_successMessageShown() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple").markDone();
        Task p2 = helper.generateTaskWithName("boil water").markDone();
        Task p3 = helper.generateTaskWithName("poke pineapple").markDone();
        Task p4 = helper.generateTaskWithName("buy pen").markDone();

        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks); 
        List<Task> expectedTasks = helper.generateTaskList(p3, p1, p4.markUndone(), p2);
        Collections.sort(expectedTasks); 
        TaskBook expectedAB = helper.generateTaskBook(expectedTasks);
        List<Task> expectedList = helper.generateTaskList(p2, p1, p3);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllDone();

        assertCommandBehavior("undone 2",
                String.format(UndoneCommand.MESSAGE_DONE_TASK_SUCCESS, p4),
                expectedAB,
                expectedList);
    }
    
}
```
###### \java\seedu\oneline\testutil\TestTask.java
``` java
    /**
     * Copies data over to new Task and marks it as done
     * @param taskToDone
     * @return
     */
    @Override
    public Task markDone() {
        ReadOnlyTask oldTask = this;
        
        TaskName newName = oldTask.getName();
        TaskTime newStartTime = oldTask.getStartTime();
        TaskTime newEndTime = oldTask.getEndTime();
        TaskTime newDeadline = oldTask.getDeadline();
        Tag newTag = oldTask.getTag();

        Task newTask = null;
        try {
            newTask = new Task(newName, newStartTime, newEndTime, newDeadline, newTag, true);
        } catch (IllegalValueException e) {
            assert false;
        }
        return newTask;
    }
    
    /**
     * Copies data over to new Task and marks it as not done
     * @param taskToDone
     * @return
     */
    @Override
    public Task markUndone() {
        ReadOnlyTask oldTask = this;
        
        TaskName newName = oldTask.getName();
        TaskTime newStartTime = oldTask.getStartTime();
        TaskTime newEndTime = oldTask.getEndTime();
        TaskTime newDeadline = oldTask.getDeadline();
        Tag newTag = oldTask.getTag();

        Task newTask = null;
        try {
            newTask = new Task(newName, newStartTime, newEndTime, newDeadline, newTag, false);
        } catch (IllegalValueException e) {
            assert false;
        }
        return newTask;
    }

    @Override
    public Task updateTag(Tag newTag) {
        TestTask newTask = new TestTask(this);
        newTask.setTag(newTag);
        try {
            return new Task(newTask);
        } catch (IllegalValueException e) {
            assert false;
        }
        return null;
    }
    
```
