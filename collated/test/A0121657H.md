# A0121657H
###### \java\seedu\oneline\logic\LogicManagerTest.java
``` java
    @Test
    public void list_undoneInput_showsAllUndoneTasks() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water");
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen");
        p2.setCompleted(true);
        p4.setCompleted(true);
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p1, p3);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllNotDone();

        assertCommandBehavior("list undone",
                ListCommand.MESSAGE_SUCCESS,
                expectedAB,
                expectedList);
    }
    
    @Test
    public void list_doneInput_showsAllDoneTasks() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water");
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen");
        p2.setCompleted(true);
        p4.setCompleted(true);
        
        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks);
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p2, p4);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllDone();

        assertCommandBehavior("list done",
                ListCommand.MESSAGE_SUCCESS,
                expectedAB,
                expectedList);
    }
```
###### \java\seedu\oneline\logic\LogicManagerTest.java
``` java
    //---------------- Tests for doneCommand --------------------------------------
    /*
     * Invalid equivalence partitions for index: null, signed integer, non-numeric characters
     * Invalid equivalence partitions for index: index larger than no. of tasks in taskBook
     * The two test cases below test invalid input above one by one.
     */
    
    @Test
    public void done_invalidArgsFormat_errorMessageShown() throws Exception {
        String expectedMessage = Messages.getInvalidCommandFormatMessage(DoneCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("done", expectedMessage);
    }
    
    @Test
    public void done_indexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("done");
    }
    
    /**
     * Checks that the task book is able to sort through the task list
     * and mark the appropriate task as done. The resulting task list 
     * shown should only contain tasks that are not done.
     * @throws Exception
     */
    @Test
    public void done_validIndex_successMessageShown() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task p1 = helper.generateTaskWithName("eat apple");
        Task p2 = helper.generateTaskWithName("boil water");
        Task p3 = helper.generateTaskWithName("poke pineapple");
        Task p4 = helper.generateTaskWithName("buy pen");

        List<Task> originalTasks = helper.generateTaskList(p3, p1, p4, p2);
        Collections.sort(originalTasks); 
        TaskBook expectedAB = helper.generateTaskBook(originalTasks);
        List<Task> expectedList = helper.generateTaskList(p2, p1, p3);
        helper.addToModel(model, originalTasks);
        model.updateFilteredListToShowAllNotDone();

        assertCommandBehavior("done 2",
                String.format(DoneCommand.MESSAGE_DONE_TASK_SUCCESS, p4),
                expectedAB,
                expectedList);
    }
    
    //-----------------Tests for Location Command---------------------------------
    /**
     * The following tests consider checks the correctness of the message reflected
     * when a valid path is input and when a invalid path is given.
     */
    @Test
    public void changeSaveLocation_validPath_successMessageShown() {
        String homeDir = System.getProperty("user.home");
        LocationCommand cmd = new LocationCommand(homeDir);
        CommandResult res = cmd.execute();
        String feedback = res.feedbackToUser;
        assertTrue(feedback.equals(String.format(LocationCommand.MESSAGE_SET_STORAGE_SUCCESS, homeDir)));        
    }
    
//    @Test
//    public void changeSaveLocation_invalidPath_invalidMessageShown() {
//        LocationCommand cmd = new LocationCommand("!@#$%^&*");
//        CommandResult res = cmd.execute();
//        String feedback = res.feedbackToUser;
//        assertTrue(feedback.equals(String.format(LocationCommand.MESSAGE_SET_STORAGE_FAILURE_PATH_INVALID, "!@#$%^&*")));        
//    }
    
```
###### \java\seedu\oneline\testutil\TestTask.java
``` java
    /**
     * Copies data over to new Task and marks it as done
     * @param taskToDone
     * @return
     */
    @Override
    public Task markDone() {
        ReadOnlyTask oldTask = this;
        
        TaskName newName = oldTask.getName();
        TaskTime newStartTime = oldTask.getStartTime();
        TaskTime newEndTime = oldTask.getEndTime();
        TaskTime newDeadline = oldTask.getDeadline();
        TaskRecurrence newRecurrence = oldTask.getRecurrence();
        Tag newTag = oldTask.getTag();

        Task newTask = null;
        try {
            newTask = new Task(newName, newStartTime, newEndTime, newDeadline, newRecurrence, newTag, true);
        } catch (IllegalValueException e) {
            assert false;
        }
        return newTask;
    }
    
    /**
     * Copies data over to new Task and marks it as not done
     * @param taskToDone
     * @return
     */
    @Override
    public Task markUndone() {
        ReadOnlyTask oldTask = this;
        
        TaskName newName = oldTask.getName();
        TaskTime newStartTime = oldTask.getStartTime();
        TaskTime newEndTime = oldTask.getEndTime();
        TaskTime newDeadline = oldTask.getDeadline();
        TaskRecurrence newRecurrence = oldTask.getRecurrence();
        Tag newTag = oldTask.getTag();

        Task newTask = null;
        try {
            newTask = new Task(newName, newStartTime, newEndTime, newDeadline, newRecurrence, newTag, false);
        } catch (IllegalValueException e) {
            assert false;
        }
        return newTask;
    }

    @Override
    public Task updateTag(Tag newTag) {
        // TODO Auto-generated method stub
        return null;
    }
    
```
